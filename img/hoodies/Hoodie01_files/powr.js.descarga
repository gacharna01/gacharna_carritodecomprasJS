!async function(){function j(e,t,o,n){var i=new Date,o=(i.setTime(i.getTime()+24*o*60*60*1e3),"expires="+i.toUTCString());n=n||"samesite=None;",document.cookie=e+"="+t+";"+o+";"+n+"path=/;Secure"}function D(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}let e=!1;var U="https://www.powr.io";function z(){return"http://localhost:3000"!=U&&"https://localhost:3000"!=U&&"http://10.0.2.2:3000"!=U&&"http://192.168.1.149:3000"!=U&&"http://localhost:8888"!=U?function(){}:console.log.bind(window.console)}if("undefined"!=typeof loadPowr)z()("Powr already loaded");else{for(var t=document.querySelectorAll(".powrLoaded"),o=0;o<t.length;o++){var n=t[o];n.innerHTML="",n.classList.remove("powrLoaded")}var i,G=((t,o)=>{let n=null;return(...e)=>{window.clearTimeout(n),n=window.setTimeout(()=>{t.apply(null,e)},o)}})(e=>{for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"triggerPowrPopupAfterInactivity"}),POWR_RECEIVERS[t].url)},300),Y=(window.addEventListener?window.addEventListener("message",s):window.attachEvent("onmessage",s),0),r=(POWR_RECEIVERS=[],document.createEvent("Event")),a=(r.initEvent("powrPingListener",!0,!0),loadPowr=async function(){if(document.body){for(var t=null,o=null,e=null,n=!1,i=document.querySelectorAll("script"),r=0;r<i.length;r++){var a=i[r],l=a.getAttribute("src");if(null!=l){var s,d=a.getAttribute("powr-token"),c=a.getAttribute("external-type"),p=((e=Q(l))&&e.loadApp&&e.uniqueId&&!a.getAttribute("auto-add")&&((f=document.createElement("div")).setAttribute("class","powr-"+e.loadApp),f.setAttribute("id",e.uniqueId),document.body.appendChild(f),a.setAttribute("auto-add",!0)),c=c||a.getAttribute("platform"),a.getAttribute("template-powr-token")),u=a.getAttribute("powr-load");if(null==u&&(u="sync"),Z()&&Z()<=9&&(u="sync"),n=a.getAttribute("demo-mode"),null!=d?t=d:-1<l.search("powr-token")&&void 0!==e["powr-token"]&&0<e["powr-token"].length&&(t=e["powr-token"]),null!=c?o=c:-1<l.search("external-type")?null!=(s=(e=Q(l))["external-type"])&&0<s.length&&(o=s):-1<l.search("platform")&&null!=(s=(e=Q(l)).platform)&&0<s.length&&(o=s),"ecwid"==o&&(u="sync"),null!=t||null!=o)break}}if(null==t||0==t.length)try{t=window.top.location.host}catch(e){t=""}"wix-oauth"==o&&document.querySelectorAll("head .powr-popup, head .powr-chat").forEach(function(e){document.body.append(e)});for(var w,g,m,h,N=/\[powr-[^\]]*\]/gi,M=/\[powr-[^\s\]]*/gi,E=document.querySelectorAll("a"),r=0;r<E.length;r++)oe(v=E[r])||(w=v.previousSibling,g=v.nextSibling,w&&g&&v.getAttribute("href")&&-1<v.getAttribute("href").search("tel")&&3==w.nodeType&&3==g.nodeType&&w.nodeValue.match(M)&&-1<g.nodeValue.search("]")&&(m=v.innerHTML,h=w.nodeValue.match(/powr-[^\s\]]*/gi)[0],(_=document.createElement("div")).innerHTML='<div class="'+h+'" label="'+m+'"></div>',w.parentNode.removeChild(w),g.parentNode.removeChild(g),v.parentNode.replaceChild(_,v)));for(var f,R,E=document.querySelectorAll("body, body *"),r=0;r<E.length;r++){var v,y=(v=E[r]).childNodes;if(!oe(v))for(var C=0;C<y.length;C++){var S,q,_,b=y[C];3==b.nodeType&&(q=(S=b.nodeValue).replace(N,K))!=S&&((_=document.createElement("div")).innerHTML=q,v.replaceChild(_,b))}}0==document.querySelectorAll("#powrIframeLoader").length&&(f=document.createElement("div"),R=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],f.id="powrIframeLoader",f.innerHTML="&shy;<style> .powrLoaded iframe { visibility: hidden; } </style>",R.parentNode.insertBefore(f,R));for(var O=document.querySelectorAll("[class*=powr-]"),H=!1,J=!1,r=0;r<O.length;r++){var I=O[r];if(!oe(I)&&!(I instanceof SVGElement||-1<I.className.search("powrLoaded"))){var P=se(I);if(void 0!==P){$(P)&&(H=!0),"scroll-to-top"!=P&&!$(P)||(J=!0);var W=I.getAttribute("label");if("weebly_"!=(W=null==W?"":W)){I.className+=" powrLoaded",null==p&&(p="");let e=I.getAttribute("id");null==e?e="":e.includes("-template--")&&(e=e.split("__")[1]);var k=I.getAttribute("view-mode"),V="true"==n||"true"==I.getAttribute("demo-mode"),A=U+"/"+P+"/u/"+e;if(!1===le()&&(A+="/cookieless"),e.startsWith("bigcommerce_")&&I.dataset&&"pagebuilder"===I.dataset.installSrc&&($(P)||ee(P)))if(te())A+="?hideContent=true";else{var T=I.closest("[data-content-region]").querySelectorAll("div");for(let e=0;e<T.length;e++)-1===T[e].className.indexOf("powr-")&&(T[e].style.zIndex="9999999")}"product-reviews"===P&&((L=I.getAttribute("data-product-id"))&&(A=A+"?product_id="+L),L=I.getAttribute("data-product-name"))&&(A=A+"&product_name="+encodeURI(L)),A+="#platform="+(s||"html");var x,I=encodeURIComponent(W),L="https://vcdn.powr.io",W=(L=U.includes("alpha")||(W=U).includes("powr")&&W.includes("staging")||U.includes("localhost")?"https://vcdn.powr-staging.io":L,e,U+"/plugins/"+P+"/cached_view?load="+u+"&index="+Y+"&unique_label="+e+"&powr_token="+t+"&user_label="+I+"&demo_mode="+V+"&isCookieAllowed="+le()),V="https://www.powr.io/plugins/"+P+"/view.json?unique_label="+e+"&powr_token="+t+"&user_label="+I+"&demo_mode="+V+"&isCookieAllowed="+le();if(null!=o&&(V+=x="&external_type="+o,W+=x),null!=p&&(V+=x="&template_powr_token="+p,W+=x),null!=k&&(V+=k="&view_mode="+k,W+=k),z()("page url IS "+ne()),ne()&&(V+="&url="+encodeURIComponent(ne())),document.location.host)var B=document.location.protocol+"//"+document.location.host;else try{var B=document.location.ancestorOrigins[0]}catch(e){B=window.top&&window.top.location&&window.top.location.host?window.top.location.protocol+"//"+window.top.location.host:""}if(V+="&request_url="+encodeURIComponent(B),W+="&request_url="+encodeURIComponent(document.location.href),0==I.length&&(W=A,ne())&&(W+="&url="+encodeURIComponent(ne())),window.CookieControl&&"function"==typeof window.CookieControl.isPOWrAllowed){k=D("isJimdoCookieSettingsShownBefore");if(!le()&&!k)return void setTimeout(function(){window.CookieControl&&window.CookieControl.showCookieSettings&&(window.CookieControl.showCookieSettings(),j("isJimdoCookieSettingsShownBefore",!0,1))},1e3)}!function(e,t,o,n,i,r,a){var l=document.createElement("iframe");l.src=i,e.classList&&e.classList[0]&&(l.title=e.classList[0].replace(/-/g," ")),l.setAttribute("powrindex",o),l.width="100%",l.height=l.style.height="0px",$(t)||(l.style.transition="height 0.3s",l.style.webkitTransition="height 0.3s"),l.style.display="block",l.frameBorder="0",l.style.visibility="visible",l.setAttribute("webkitallowfullscreen",""),l.setAttribute("mozallowfullscreen",""),l.setAttribute("allowfullscreen",""),"ecwid"==n&&(e.style.minWidth="280px"),ie(l,o,i),"async"==a&&(ae(o),re(o,l)),"complete"===document.readyState||$(t)?F(l,e,i,r):X(window,"load",()=>{F(l,e,i,r)})}(O[r],P,Y,o,W,V,u),Y++}}}}H&&(X(document,"click",function(e){e=(e=e||window.event).relatedTarget||e.toElement||e.target;if(e&&e.classList.contains("trigger-popup"))for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"triggerPowrPopupClick"}),POWR_RECEIVERS[t].url);else G()}),X(document,"keypress",G),X(document,"mousemove",G),X(document,"mouseout",function(e){if((e=e||window.event).clientY<5)for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"exitDocument"}),POWR_RECEIVERS[t].url)})),J&&X(document,"scroll",function(e){for(var t=(document.documentElement.scrollHeight||document.body.scrollHeight)-window.innerHeight,o=100*(document.documentElement.scrollTop||document.body.scrollTop)/t,n=0;n<POWR_RECEIVERS.length;n++)POWR_RECEIVERS[n].receiver.postMessage(JSON.stringify({message:"scrollPosition",scrollPercentage:o}),POWR_RECEIVERS[n].url)})}},window.location.search.includes("powr-review-badge-preview")&&(e=!0,(i=document.createElement("script")).src=U+"/powr_product_review_badge_installation.js",document.head.appendChild(i)),await loadPowr(),setInterval(function(){e||loadPowr()},500),X(window,"load",loadPowr),!1);X(window,"keydown",function(e){if(80==e.keyCode&&(a=!0,setTimeout(function(){a=!1},2e3)),38==e.keyCode&&a){for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"showEdit"}),POWR_RECEIVERS[t].url);return e.preventDefault(),!1}if(40==e.keyCode&&a){for(t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"hideEdit"}),POWR_RECEIVERS[t].url);return e.preventDefault(),!1}})}function X(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)}function F(e,t,o,n){var i=-1<o.indexOf("product-reviews");window.Shopify;setTimeout(()=>{t.appendChild(e),POWR_RECEIVERS.push({receiver:e.contentWindow,url:o,data_url:n})},0)}function K(e,t,o,n,i,r){var a=e,e=(z()("Match:",e),a.match(/powr-[^\s\]]*/i)),l=a.match(/id="[^"]*"/i),e='<div class="'+e+'" '+(l=null==(l=null==(l=null==(l=null==(l=null==l?a.match(/id='[^']*'/i):l)&&null!=(l=a.match(/id=[^\]]*/i))?l[0].replace("id=",'id="')+'"':l)?a.match(/label="[^"]*"/i):l)?a.match(/label='[^']*'/i):l)?"":l)+"></div>";return z()("Result is:"+e),e}function Q(e){for(var t={},o=e.search("\\?"),n=(e=e.substr(o+1)).split("&"),i=0;i<n.length;i++){var r,a=n[i].split("=");void 0===t[a[0]]?t[a[0]]=a[1]:"string"==typeof t[a[0]]?(r=[t[a[0]],a[1]],t[a[0]]=r):t[a[0]].push(a[1])}return t}function Z(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])}function $(e){return-1<["subscription-signup-popup","donate-now-popup","newslettersignuppopup","emailpopup","ebook-popup","shipping-delay-popup","sales-popup","spin-to-win","pre-sale-popup","cyber-monday-popup","coronavirus-popup","discount-popup","exit-popup","covid-19-popup","spin-wheel","discount-notification-bar","zoom-pop-up","exit-intent-popup","overlay-popup","onclick-popup","sales-pop","email-popup","coupon-box","email-subscription-popup","popup-notification","full-screen-popup","survey-popup","mailchimp-email-signup","promotion-popup","splash-popup","event-registration-popup","popup-maker","slide-in","donation-popup","sale-promotion-bar","email-sign-up","modal-popup","newsletter-sign-up-popup","popup","coupon-popup","popup-form"].indexOf(e)}function ee(e){return["chat","live-chat","chat-box","facebook-chat","messenger-chat"].includes(e)}function te(){return function(){try{return window.self!==window.top}catch(e){return 1}}()&&window.location.search&&window.location.search.includes("ctk=")}function oe(e){for(var t=!1,o=e;o&&o!==document;o=o.parentNode)if(null!=o.classList&&o.classList.contains("powr-ignore")){t=!0;break}return t}function ne(){try{return window.top.location.href}catch(e){return z()("Couldn't get page url:",e),""}}function ie(t,o,n){let i;function r(){var e;e=parseInt(t.getAttribute("powrindex")),isNaN(e)||!0!==window.POWR_RECEIVERS[e].loaded?(e={message:"loaded",data:{iframe_index:o,parent_window_width:window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,parent_window_height:window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,powrMetafields:window.powrMetafields,powrShopMetafields:window.powrShopMetafields}},z()("POWr.js sending load message to url"+n+"; iframe:",t),t.contentWindow.postMessage(JSON.stringify(e),n),i=setTimeout(r,50)):clearTimeout(i)}t.addEventListener?t.addEventListener("load",r):t.attachEvent("onload",r)}function re(t,e){e.addEventListener&&(e.addEventListener("powrPingListener",function(){return POWR_RECEIVERS[t].listenerConnected=!0},!1),POWR_RECEIVERS[t].ping_interval=setInterval(function(){var e=document.querySelectorAll('[powrindex="'+t+'"]')[0];e&&(POWR_RECEIVERS[t].listenerConnected=!1,e.dispatchEvent(r),!1===POWR_RECEIVERS[t].listenerConnected)&&(console.log("POWr Lost connection. Reconnecting"),clearInterval(POWR_RECEIVERS[t].ping_interval),POWR_RECEIVERS[t].receiver=e.contentWindow,ae(t),re(t,e))},2e3))}function ae(o){var n=new XMLHttpRequest;n.open("GET",POWR_RECEIVERS[o].data_url,!0),n.withCredentials=!0,n.onreadystatechange=function(){var e,t;n.readyState!=XMLHttpRequest.DONE&&4!=n.readyState||(200==n.status?((e=JSON.parse(n.responseText)).iframe_index=o,POWR_RECEIVERS[o].data=e,t=setInterval(function(){POWR_RECEIVERS[o].loaded&&(POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"loadView",data:e}),POWR_RECEIVERS[o].url),clearInterval(t))},10)):z()("Error receiving POWr App Data"))},n.send()}function d(e){switch(e.scrollTo){case"top":l(0,e.scrollSpeed);break;case"bottom":t=e.scrollSpeed,l((document.documentElement.scrollHeight||document.body.scrollHeight)-window.innerHeight+50,t);break;case"text":var t=e.scrollToText,o=e.scrollSpeed;(t=function(e){for(var t=document.querySelectorAll("body, body *"),o=0;o<t.length;o++)for(var n=t[o],i=n.childNodes,r=0;r<i.length;r++){var a=i[r];if(3==a.nodeType)if(-1<a.nodeValue.search(e))return n}return!1}(t))&&l(t.getBoundingClientRect().top+window.scrollY-150,o);break;case"anchor":var o=e.scrollToAnchor,n=e.scrollSpeed;(o=document.getElementById(o))&&l(o.getBoundingClientRect().top+window.scrollY-150,n);break;case"app":n=document.querySelector('iframe[src="'+e.url+'"]');n?e.ios?window.scrollTo(0,n.offsetTop-50):l(n.offsetTop-50,e.scrollSpeed):window.scrollBy(0,e.distance)}var t}function l(e,t,o){var n=document.documentElement.scrollTop||document.body.scrollTop;n!==o&&(window.requestAnimationFrame(function(){l(e,t,n)}),n<e?window.scrollTo(0,n+(e-n)/t):window.scrollTo(0,n-(n-e)/t))}function s(e){z()("Settings got a message!",e);try{var t=JSON.parse(e.data);if("clearCart"===t.message&&fetch("/cart/clear.js",{method:"POST",headers:{"Content-Type":"application/json"}}).then(()=>{window.location.reload()}).catch(e=>{console.log("Error during clearing cart",e)}),"checkCartIsEmpty"===t.message&&fetch("/cart.js",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(0<e.item_count)for(let e=0;e<POWR_RECEIVERS.length;e++)POWR_RECEIVERS[e].receiver.postMessage(JSON.stringify({message:"showCartTimer"}),POWR_RECEIVERS[e].url)}).catch(e=>{console.log("Error during checking cart items",e)}),"viewLoaded"==t.message){z()("Settings received view loaded");var o=t.data.iframe_index,n=(POWR_RECEIVERS[o].loaded=!0,t.data.cookiesToGet);0<n.length&&(POWR_RECEIVERS[o].cookies=n.map(function(e){return{cname:e,value:D(e)}}),POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"cookiesSent",cookies:POWR_RECEIVERS[o].cookies}),POWR_RECEIVERS[o].url))}else if("updateSize"==t.message){"undefined"!=typeof gadgets&&void 0!==gadgets.window&&void 0!==gadgets.window.adjustHeight&&gadgets.window.adjustHeight(t.data.height);var i,o=t.data.iframe_index,r=document.querySelectorAll('[powrindex="'+o+'"]')[0];if(r){if(r.height=t.data.height+"px",r.style.height=t.data.height+"px",r.style.display="inline",null!=t.data.postCss)for(var a in t.data.postCss)r.style[a]=t.data.postCss[a];var l=r.parentNode,s=se(l);(l.getAttribute("id")||"").startsWith("bigcommerce_")&&te()&&l.dataset&&"pagebuilder"===l.dataset.installSrc&&($(s)||ee(s))&&(r.style.display="block",r.style.position="unset",r.style.height="200px")}t.data.postMessage&&"scrollTo"==t.data.postMessage.messageType?d(t.data.postMessage):t.data.postMessage&&"deliverHashedData"===t.data.postMessage.messageType&&(i=t.data.postMessage.data,z()("HASHED DATA RECEIVED",i),__sharethis__)&&"function"==typeof __sharethis__.hem&&__sharethis__.hem(i),z()("Updating size of el",r)}else"loadMe"==t.message?(z()("Settings received loadMe request"),o=t.data.iframe_index,null!=POWR_RECEIVERS[o]&&null!=POWR_RECEIVERS[o].data&&POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"loadView",data:POWR_RECEIVERS[o].data}),POWR_RECEIVERS[o].url)):"setCookie"===t.message&&j(t.cname,t.value,t.exdays)}catch(e){}}function le(){return window.CookieControl&&window.CookieControl.isPOWrAllowed&&window.CookieControl.isPOWrAllowed()}function se(e){var t=e.className.split(/\s+/);for(let e=0;e<t.length;e++)if(0===t[e].toLowerCase().search("powr-"))return t[e].toLowerCase().replace("powr-","")}}();